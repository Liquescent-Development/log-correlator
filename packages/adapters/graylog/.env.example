# Graylog Integration Test Configuration
# Copy this file to .env and fill in your Graylog instance details

# Graylog Server Configuration
GRAYLOG_URL=http://localhost:9000
GRAYLOG_API_VERSION=v6  # Use 'legacy' for 2.x-5.x, 'v6' for 6.x+

# Authentication (use either API token or username/password)
# GRAYLOG_API_TOKEN=your-api-token-here
GRAYLOG_USERNAME=admin
GRAYLOG_PASSWORD=password

# Optional: Stream filtering
# GRAYLOG_STREAM_NAME=Application Logs
# GRAYLOG_STREAM_ID=507f1f77bcf86cd799439011

# Optional: SOCKS Proxy Configuration
# SOCKS_PROXY_HOST=127.0.0.1
# SOCKS_PROXY_PORT=1080
# SOCKS_PROXY_TYPE=5
# SOCKS_PROXY_USERNAME=proxyuser
# SOCKS_PROXY_PASSWORD=proxypass

# Test Configuration
GRAYLOG_TEST_VERBOSE=true
GRAYLOG_TEST_TIMEOUT=30000
GRAYLOG_MAX_EVENTS=100

# Example Queries (customize for your Graylog instance)
GRAYLOG_QUERY_ERRORS=level:error OR level:ERROR
GRAYLOG_QUERY_WARNINGS=level:warn OR level:WARN OR level:warning
GRAYLOG_QUERY_INFO=level:info OR level:INFO
GRAYLOG_QUERY_SERVICE=source:nginx OR source:apache
GRAYLOG_QUERY_SERVICE_ERRORS=source:nginx AND level:error
GRAYLOG_QUERY_MULTI=level:error AND source:application
GRAYLOG_QUERY_HTTP=status:[500 TO 599]
GRAYLOG_QUERY_SLOW=response_time:>1000
GRAYLOG_QUERY_CORRELATION=request_id:*

# Field Mappings (customize based on your Graylog field names)
GRAYLOG_FIELD_TIMESTAMP=timestamp
GRAYLOG_FIELD_MESSAGE=message
GRAYLOG_FIELD_LEVEL=level
GRAYLOG_FIELD_SOURCE=source
GRAYLOG_FIELD_HOST=host
GRAYLOG_FIELD_REQUEST_ID=request_id
GRAYLOG_FIELD_TRACE_ID=trace_id
GRAYLOG_FIELD_SESSION_ID=session_id
GRAYLOG_FIELD_CORRELATION_ID=correlation_id

# Expected Test Results
GRAYLOG_MIN_ERRORS=0
GRAYLOG_MIN_WARNINGS=0
GRAYLOG_MIN_INFO=0
GRAYLOG_EXPECTED_FIELDS=timestamp,message,source
GRAYLOG_CORRELATION_FIELDS=request_id,trace_id,correlation_id,session_id

# Debug Settings
GRAYLOG_DEBUG_RAW=false
GRAYLOG_DEBUG_QUERIES=false
GRAYLOG_DEBUG_STREAMS=false
GRAYLOG_SAVE_RESULTS=false
GRAYLOG_RESULTS_PATH=./test-results